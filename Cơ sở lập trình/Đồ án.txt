using System.Text;
using System.Text.RegularExpressions;

namespace ProjectCSLT
{
    class Program
    {
        static void EIVLog() //ErrorInputValue
        {
            Console.ForegroundColor = ConsoleColor.DarkRed;
            Console.Write("\t<< D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá, vui l√≤ng nh·∫≠p l·∫°i\n");
            Console.ResetColor();
        }
        static void Menu()
        {
        menu:
            Console.WriteLine("\n{0, 70}", "ƒê·ªí √ÅN: C∆† S·ªû L·∫¨P TR√åNH");
            Console.WriteLine("{0, 84}", "SINH VI√äN: PH·∫†M NGUY·ªÑN CH√ç KHOA, L·ªöP: SE001");
            Console.WriteLine("{0, 92}", "---------------------------------------------------------------");
            Console.WriteLine("\tB√†i 1: Nh·∫≠p v√†o m·ªôt s·ªë N nguy√™n d∆∞∆°ng. Cho bi·∫øt N c√≥ ph·∫£i l√† b·ªôi s·ªë c·ªßa 3 v√† 5 kh√¥ng?");
            Console.WriteLine("\tB√†i 2: ùëÉ = 1 / (‚àö1 + ‚àö2 + ‚àö3 + ‚àö4)   (V·ªõi ‚àö l√† cƒÉn b·∫≠c n + 1 = 4).");
            Console.WriteLine("\tB√†i 3: S·∫Øp x·∫øp c√°c ph·∫ßn t·ª≠ trong m·ªôt m·∫£ng g·ªìm n s·ªë nguy√™n theo th·ª© t·ª± t·ª´ nh·ªè ƒë·∫øn l·ªõn.");
            Console.WriteLine("\tB√†i 4: Nh·∫≠p c√°c ph·∫ßn t·ª≠ c·ªßa m·ªôt ma tr·∫≠n vu√¥ng c·∫•p n, in ra ma tr·∫≠n chuy·ªÉn v·ªã c·ªßa n√≥.");
            Console.WriteLine("\tB√†i 5: Nh·∫≠p chu·ªói ch·ª©a ƒë·∫ßy ƒë·ªß h·ªç, t√™n l√≥t v√† t√™n. T√°ch t√™n ra kh·ªèi h·ªç v√† t√™n l√≥t sau ƒë√≥ in l·∫°i ƒë·∫ßy ƒë·ªß h·ªç, \r\n\tt√™n l√≥t v√† t√™n trong m·ªôt kho·∫£ng r·ªông 40 v·ªã tr√≠ trong ƒë√≥ h·ªç v√† t√™n l√≥t canh tr√°i, t√™n canh ph·∫£i.");
            Console.WriteLine("\tB√†i 6: Cho m·∫£ng nhi·ªÅu chi·ªÅu g·ªìm c√≥ c√°c th√¥ng tin li√™n quan ƒë·∫øn kh√°ch l∆∞u tr√∫ ·ªü kh√°ch s·∫°n. Kh√°ch g·ªìm c√°c \r\n\tth√¥ng tin: h·ªç t√™n, s·ªë ng√†y ·ªü, s·ªë b·ªØa ƒÉn, ti·ªÅn ·ªü (1 ng√†y), ti·ªÅn ƒÉn (1 b·ªØa), ph√≠ ph·ª•c v·ª•. Ph√¢n t√≠ch v√† vi·∫øt \r\n\tch∆∞∆°ng tr√¨nh t√≠nh ti·ªÅn tr·ªç kh√°ch s·∫°n");
            Console.WriteLine("{0, 92}", "---------------------------------------------------------------");
            Console.WriteLine();

        again:
            Console.WriteLine("\tNh·∫≠p 1-6 ƒë·ªÉ l·ª±a ch·ªçn b√†i to√°n t∆∞∆°ng ·ª©ng ho·∫∑c nh·∫≠p 0 ƒë·ªÉ k·∫øt th√∫c ch∆∞∆°ng tr√¨nh");
            Console.Write("\t>> ");
            string userChoice = Console.ReadLine();
            switch (userChoice)
            {
                case "1":
                    Console.Clear();
                    Bai1();
                    goto menu;
                case "2":
                    Console.Clear();
                    Bai2();
                    goto menu;
                case "3":
                    Console.Clear();
                    Bai3();
                    goto menu;
                case "4":
                    Console.Clear();
                    Bai4();
                    goto menu;
                case "5":
                    Console.Clear();
                    Bai5();
                    goto menu;
                case "6":
                    Console.Clear();
                    Bai6();
                    goto menu;
                case "0":
                    break;
                default:
                    EIVLog();
                    goto again;
            }
        }
        static void BackToMenu()
        {
            Console.WriteLine("\n << Nh·∫•n b·∫•t k·ª≥ ph√≠m n√†o ƒë·ªÉ quay l·∫°i m√†n h√¨nh ch√≠nh");
            Console.ReadKey();
            Console.Clear();
        }
        static void Bai1()
        {
            Console.WriteLine("\n B√†i 1: Nh·∫≠p v√†o m·ªôt s·ªë N nguy√™n d∆∞∆°ng. Cho bi·∫øt N c√≥ ph·∫£i l√† b·ªôi s·ªë c·ªßa 3 v√† 5 kh√¥ng?");
        bai1:
            Console.Write("\tNh·∫≠p s·ªë nguy√™n d∆∞∆°ng N: >> ");
            try
            {
                uint n = Convert.ToUInt32(Console.ReadLine());
                if (n % 15 == 0) Console.WriteLine($"\t<< N = {n} l√† b·ªôi s·ªë c·ªßa 3 v√† 5");
                else Console.WriteLine($"\t<< N = {n} kh√¥ng l√† b·ªôi s·ªë c·ªßa 3 v√† 5");
            }
            catch (Exception)
            {
                EIVLog();
                goto bai1;
            }
            BackToMenu();
        }
        static void Bai2()
        {
            //STT: 13 --> n = 3;
            Console.WriteLine("\n B√†i 2: ùëÉ = 1 / (‚àö1 + ‚àö2 + ‚àö3 + ‚àö4)   (V·ªõi ‚àö l√† cƒÉn b·∫≠c n + 1 = 4).");
            double result = 0;
            for (int i = 4; i > 0; i--)
            {
                result += i;
                result = Math.Pow(result, (double)1 / 4);
            }
            Console.WriteLine($"\t<< K·∫øt qu·∫£ c·ªßa ùëÉ = {1 / result}");
            BackToMenu();
        }
        static void Bai3()
        {
            Console.WriteLine("\n B√†i 3: S·∫Øp x·∫øp c√°c ph·∫ßn t·ª≠ trong m·ªôt m·∫£ng g·ªìm n s·ªë nguy√™n theo th·ª© t·ª± t·ª´ nh·ªè ƒë·∫øn l·ªõn.");

        bai3:
            Console.Write("\tNh·∫≠p 1 ƒë·ªÉ t·∫°o ra m·ªôt m·∫£ng ng·∫´u nhi√™n (gi√° tr·ªã kho·∫£ng (-1000;1000)) ho·∫∑c nh·∫≠p 2 ƒë·ªÉ t·ª± nh·∫≠p m·∫£ng: >> ");
            string userChoice = Console.ReadLine();
            switch (userChoice)
            {
                case "1":
                    Random r = new Random();
                bai3case1:
                    try
                    {
                        Console.Write("\tNh·∫≠p s·ªë ph·∫ßn t·ª≠ c·ªßa m·∫£ng: >> ");
                        uint n = Convert.ToUInt32(Console.ReadLine());
                        if (n == 0)
                        {
                            EIVLog();
                            goto bai3case1;
                        }
                        int[] intArr = new int[n];
                        for (int i = 0; i < n; i++)
                            intArr[i] = r.Next(-1000, 1000);
                        Console.Write("\tM·∫£ng ƒë√£ ƒë∆∞·ª£c kh·ªüi t·∫°o ng·∫´u nhi√™n:\n\t\t");
                        foreach (var element in intArr)
                            Console.Write($"[{element}]");
                        for (int i = 0; i < n - 1; i++)
                        {
                            for (int j = i + 1; j < n; j++)
                            {
                                if (intArr[i] > intArr[j])
                                {
                                    int temp = intArr[i];
                                    intArr[i] = intArr[j];
                                    intArr[j] = temp;
                                }
                            }
                        }
                        Console.Write("\n\tTh·ª© t·ª± c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng sau khi s·∫Øp x·∫øp (tƒÉng d·∫ßn) l√†:\n\t\t");
                        foreach (var element in intArr)
                            Console.Write($"[{element}]");
                    }
                    catch (Exception)
                    {
                        EIVLog();
                        goto bai3case1;
                    }
                    Console.WriteLine();
                    break;
                case "2":
                bai3case2:
                    try
                    {
                        Console.Write("\tNh·∫≠p s·ªë ph·∫ßn t·ª≠ c·ªßa m·∫£ng: >> ");
                        uint n = Convert.ToUInt32(Console.ReadLine());
                        if (n == 0)
                        {
                            EIVLog();
                            goto bai3case2;
                        }
                        int[] intArr = new int[n];
                        Console.WriteLine("\tNh·∫≠p gi√° tr·ªã cho m·∫£ng: ");
                        for (int i = 0; i < n; i++)
                        {
                        bai3case2input:
                            try
                            {
                                Console.Write($"\t\tPh·∫ßn t·ª≠ th·ª© {i + 1}: >> ");
                                intArr[i] = Convert.ToInt32(Console.ReadLine());
                            }
                            catch (Exception)
                            {
                                EIVLog();
                                goto bai3case2input;
                            }
                        }
                        for (int i = 0; i < n - 1; i++)
                        {
                            for (int j = i + 1; j < n; j++)
                            {
                                if (intArr[i] > intArr[j])
                                {
                                    int temp = intArr[i];
                                    intArr[i] = intArr[j];
                                    intArr[j] = temp;
                                }
                            }
                        }
                        Console.Write("\n\tTh·ª© t·ª± c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng sau khi s·∫Øp x·∫øp (tƒÉng d·∫ßn) l√†:\n\t\t");
                        foreach (var element in intArr)
                            Console.Write($"[{element}]");
                        Console.WriteLine();
                    }
                    catch (Exception)
                    {
                        EIVLog();
                        goto bai3case2;
                    }
                    break;
                default:
                    EIVLog();
                    goto bai3;
            }
            BackToMenu();
        }
        static void Bai4()
        {
            Console.WriteLine("\n B√†i 4: Nh·∫≠p c√°c ph·∫ßn t·ª≠ c·ªßa m·ªôt ma tr·∫≠n vu√¥ng c·∫•p n, in ra ma tr·∫≠n chuy·ªÉn v·ªã c·ªßa n√≥.");
        bai4:
            try
            {
                Console.Write("\tNh·∫≠p s·ªë h√†ng v√† c·ªôt c·ªßa ma tr·∫≠n vu√¥ng: >> ");
                uint n = Convert.ToUInt32(Console.ReadLine());
                if (n == 0)
                {
                    EIVLog();
                    goto bai4;
                }
                Console.WriteLine($"\tNh·∫≠p gi√° tr·ªã t·ª´ng ph·∫ßn t·ª≠ c·ªßa ma tr·∫≠n vu√¥ng c·∫•p {n}:");
                int[][] intMatrix = new int[n][];
                for (int i = 0; i < n; i++)
                {
                    intMatrix[i] = new int[n];
                    for (int j = 0; j < n; j++)
                    {
                    bai4input:
                        try
                        {
                            Console.Write($"\t\tNh·∫≠p gi√° tr·ªã cho ph·∫ßn t·ª≠ [{i}][{j}]: >> ");
                            intMatrix[i][j] = Convert.ToInt32(Console.ReadLine());
                        }
                        catch (Exception)
                        {
                            EIVLog();
                            goto bai4input;
                        }
                    }
                }
                Console.WriteLine("\n\tMa tr·∫≠n v·ª´a ƒë∆∞·ª£c nh·∫≠p c√≥ d·∫°ng:");
                for (int i = 0; i < n; i++)
                {
                    Console.Write("\t");
                    for (int j = 0; j < n; j++)
                        Console.Write($" {intMatrix[i][j],5}");
                    Console.WriteLine();
                }
                Console.WriteLine("\n\tMa tr·∫≠n chuy·ªÉn v·ªã c·ªßa ma tr·∫≠n tr√™n l√†:");
                for (int i = 0; i < n; i++)
                {
                    Console.Write("\t");
                    for (int j = 0; j < n; j++)
                        Console.Write($" {intMatrix[j][i],5}");
                    Console.WriteLine();
                }
            }
            catch (Exception)
            {
                EIVLog();
                goto bai4;
            }
            BackToMenu();
        }
        static void Bai5()
        {
            Console.WriteLine("\n B√†i 5: Nh·∫≠p chu·ªói ch·ª©a ƒë·∫ßy ƒë·ªß h·ªç, t√™n l√≥t v√† t√™n. T√°ch t√™n ra kh·ªèi h·ªç v√† t√™n l√≥t sau ƒë√≥ in l·∫°i ƒë·∫ßy ƒë·ªß h·ªç, \r\n\tt√™n l√≥t v√† t√™n trong m·ªôt kho·∫£ng r·ªông 40 v·ªã tr√≠ trong ƒë√≥ h·ªç v√† t√™n l√≥t canh tr√°i, t√™n canh ph·∫£i.");
            Console.Write("\n\tNh·∫≠p h·ªç t√™n c·ªßa b·∫°n: >> ");
            string userInput = Console.ReadLine();
            userInput = userInput.Trim();
            Regex trimmer = new Regex(@"\s+"); // X√≥a kho·∫£ng tr·∫Øng th·ª´a trong chu·ªói
            userInput = trimmer.Replace(userInput, " ");
            string[] strArr = userInput.Split(" ");
            string[] newArr = new string[strArr.Length - 1];
            for (int i = 0; i < newArr.Length; i++)
                newArr[i] = strArr[i];
            string result = string.Join(" ", newArr);
            int frontLength = result.Length;
            int backLength = strArr[strArr.Length - 1].Length;
            for (int i = 0; i < 40 - frontLength - backLength; i++)
                result += " ";
            result += strArr[strArr.Length - 1];
            Console.WriteLine($"\t<< {result}");
            BackToMenu();
        }
        static void Bai6()
        {
            Console.WriteLine("\n B√†i 6: Cho m·∫£ng nhi·ªÅu chi·ªÅu g·ªìm c√≥ c√°c th√¥ng tin li√™n quan ƒë·∫øn kh√°ch l∆∞u tr√∫ ·ªü kh√°ch s·∫°n. Kh√°ch g·ªìm c√°c \r\n\tth√¥ng tin: h·ªç t√™n, s·ªë ng√†y ·ªü, s·ªë b·ªØa ƒÉn, ti·ªÅn ·ªü (1 ng√†y), ti·ªÅn ƒÉn (1 b·ªØa), ph√≠ ph·ª•c v·ª•. Ph√¢n t√≠ch v√† vi·∫øt \r\n\tch∆∞∆°ng tr√¨nh t√≠nh ti·ªÅn tr·ªç kh√°ch s·∫°n");
            object[][] guestInfo = new object[5][];
            guestInfo[0] = new object[6] { "Ph·∫°m Nguy·ªÖn Ch√≠ Khoa", 3, 5, 700000, 50000, 150000 };
            guestInfo[1] = new object[6] { "Sunny Biolie", 7, 20, 500000, 40000, 150000 };
            guestInfo[2] = new object[6] { "Khoa Bug", 5, 15, 800000, 50000, 150000 };
            guestInfo[3] = new object[6] { "V∆∞∆°ng Farm", 2, 0, 500000, 40000, 100000 };
            guestInfo[4] = new object[6] { "Johnny Black", 1, 2, 1000000, 70000, 200000 };

            for (int i = 0; i < guestInfo.Length; i++)
            {
                Console.WriteLine("\n\t***********************************************************************************");
                Console.WriteLine("\tKh√°ch s·∫°n Five Starts");
                Console.WriteLine("\tH√≥a ƒë∆°n kh√°ch s·∫°n");
                Console.WriteLine($"\tQu√Ω √îng(B√†): {guestInfo[i][0]}");
                Console.WriteLine($"\tS·ªë ng√†y ·ªü: {guestInfo[i][1]}{"",13}S·ªë b·ªØa ƒÉn: {guestInfo[i][2]}");
                Console.WriteLine($"\tTi·ªÅn ·ªü: {guestInfo[i][3]}VNƒê{"",8}Ti·ªÅn ƒÉn: {guestInfo[i][4]}VNƒê{"",8}Ph√≠ ph·ª•c v·ª•: {guestInfo[i][5]}VNƒê");
                Console.WriteLine($"\tT·ªïng c·ªông: {((int)guestInfo[i][1] * (int)guestInfo[i][3]) + ((int)guestInfo[i][2] * (int)guestInfo[i][4]) + (int)guestInfo[i][4]}VNƒê");
                Console.WriteLine($"\t\tH√¢n h·∫°nh ph·ª•c v·ª• qu√Ω kh√°ch");
                Console.WriteLine("\t***********************************************************************************");
            }
            BackToMenu();
        }
        static void Main(string[] args)
        {
            Console.Clear();
            Console.InputEncoding = Encoding.Unicode;
            Console.OutputEncoding = Encoding.Unicode;
            Console.Title = "ƒê·ªì √Ån - Ph·∫°m Nguy·ªÖn Ch√≠ Khoa - 31211020279";

            Menu();

            // Console.ReadKey();
            // Last Updated 12:09 PM, 27/10/2022
        }
    }
}
